{"version":3,"sources":["components/Rules.js","components/Filter.js","components/RulesByTitle.js","components/Title.js","App.js","index.js"],"names":["Rules","props","selected","arrayOfRules","filter","rule","content","includes","toLocaleLowerCase","map","ListItem","ListItemText","highlightClassName","searchWords","autoEscape","textToHighlight","id","Filter","TextField","label","variant","onChange","changeFilter","Button","type","color","startIcon","onClick","RulesByTitle","ruleToShow","show","Title","filterField","setTitle","title","previousTitle","App","filterTimeoutHandle","useState","setFilterField","setRules","setArrayOfRules","arrayOfTitles","setArrayOfTitles","setRuleToShow","isSelected","setIsSelected","setPreviousTitle","useEffect","tempRules","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","allText","responseText","send","parseText","titles","match","uniqueTitles","Set","titleIds","toString","contentIds","contentArray","i","length","contentObject","push","titleArray","j","titleObject","concat","onSelect","titleId","ruleArray","rulesByTitle","undefined","substring","newArray","ListItemLink","button","component","Container","fixed","Typography","Grid","container","item","xs","List","className","href","event","filterText","target","value","clearTimeout","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.374d6bf6.chunk.js","sourcesContent":["import React from 'react'\r\nimport Highlighter from \"react-highlight-words\";\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\n\r\nconst Rules = (props) => {\r\n    props.selected(true)\r\n    return (\r\n        <div>\r\n            {props.arrayOfRules.filter(rule => rule.content.includes(props.filter.toLocaleLowerCase())).map(rule => (\r\n                <ListItem key={rule.id}><ListItemText>\r\n                    <Highlighter\r\n                        highlightClassName=\"YourHighlightClass\"\r\n                        searchWords={[props.filter]}\r\n                        autoEscape={true}\r\n                        textToHighlight={rule.content}\r\n                    />\r\n                </ListItemText></ListItem>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\nexport default Rules\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <form>\r\n            <TextField id=\"outlined-basic\" label=\"Search from text\" variant=\"outlined\"\r\n                onChange={props.changeFilter} />\r\n            <Button id=\"resetButton\" type=\"reset\" variant=\"contained\" color=\"secondary\" startIcon={<DeleteIcon />} onClick={() => props.filter('')}>clear text field</Button>\r\n        </form>\r\n    )\r\n}\r\nexport default Filter","import React from 'react'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n\r\n\r\nconst RulesByTitle = (props) => {\r\n    return (\r\n        <div>\r\n            {props.ruleToShow.map(show => (\r\n                <ListItem key={show.id}><ListItemText>{show.content}</ListItemText></ListItem>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\nexport default RulesByTitle","import React from 'react'\r\n\r\nconst Title = (props) => {\r\n    if (props.filterField !== \"\") {\r\n        props.setTitle(props.filterField)\r\n        return (\r\n            <div>\r\n                <h2>Filtered by word: <i>{props.title}</i></h2>\r\n            </div>\r\n        )\r\n    }\r\n    props.setTitle(props.previousTitle)\r\n    return (\r\n        <div>\r\n            <h2>{props.title}</h2>\r\n        </div>\r\n    )\r\n}\r\nexport default Title","import React, { useState, useEffect } from 'react'\nimport { Grid } from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Rules from './components/Rules'\nimport Filter from './components/Filter'\nimport RulesByTitle from './components/RulesByTitle'\nimport Title from './components/Title'\n\n\nconst App = () => {\n  const [filterField, setFilterField] = useState('')\n  const [rules, setRules] = useState('')\n  const [arrayOfRules, setArrayOfRules] = useState([])\n  const [arrayOfTitles, setArrayOfTitles] = useState([])\n  const [ruleToShow, setRuleToShow] = useState([])\n  const [title, setTitle] = useState('')\n  const [isSelected, setIsSelected] = useState(false)\n  const [previousTitle, setPreviousTitle] = useState('')\n\n\n  var filterTimeoutHandle;\n\n  const handleFilterChange = (event) => {\n    const filterText = event.target.value;\n    if (filterTimeoutHandle !== undefined) {\n      clearTimeout(filterTimeoutHandle);\n    }\n\n    filterTimeoutHandle = setTimeout(() => {\n      setFilterField(filterText);\n    }, 750)\n  }\n\n  const getRulesText = () => {\n    var tempRules;\n    let rawFile = new XMLHttpRequest();\n\n    rawFile.open(\"GET\", \"https://evening-wildwood-55510.herokuapp.com/https://media.wizards.com/2021/downloads/MagicCompRules%2020210419.txt\", false);\n    rawFile.onreadystatechange = () => {\n      if (rawFile.readyState === 4) {\n        if (rawFile.status === 200 || rawFile.status === 0) {\n          var allText = rawFile.responseText;\n          tempRules = allText;\n          setRules(allText);\n        }\n      }\n    };\n\n    rawFile.send(null);\n    parseText(tempRules)\n  }\n\n  useEffect(getRulesText, []);\n\n  const parseText = (tempRules) => {\n    var titles = tempRules.match(/^\\d{3}\\.+([^0-9]).*?$/gms)\n    var uniqueTitles = [...new Set(titles)]\n    var tempTitles = titles.toString()\n    var titleIds = tempTitles.match(/\\d{3}/gms)\n    var content = tempRules.match(/^\\d+\\.\\d+[.a-z].*?^$/gms)\n    var contentIds = tempRules.match(/^\\d+\\.\\d+[.a-z]/gms)\n\n    var contentArray = []\n    for (var i = 0; i < content.length; i++) {\n      var contentObject = {\n        id: contentIds[i],\n        content: content[i]\n      }\n      contentArray.push(contentObject)\n    }\n\n    var titleArray = []\n    for (var j = 0; j < uniqueTitles.length; j++) {\n      var titleObject = {\n        id: titleIds[j],\n        title: uniqueTitles[j]\n      }\n      titleArray.push(titleObject)\n    }\n    setArrayOfTitles(arrayOfTitles.concat(titleArray))\n    setArrayOfRules(arrayOfRules.concat(contentArray))\n  }\n\n  const clearRuleToShow = () => {\n    setRuleToShow([])\n  };\n\n  const onSelect = (titleObject) => {\n    clearRuleToShow()\n    setIsSelected(true)\n    setFilterField('')\n    var titleId = titleObject.id;\n    var ruleArray = arrayOfRules;\n    var rulesByTitle = [];\n\n    for (var i = 0; i < ruleArray.length; i++) {\n      if (typeof ruleArray[i].content !== undefined && ruleArray[i].content.substring(0, 3) === titleId) {\n        rulesByTitle.push(ruleArray[i]);\n      }\n    }\n    setRuleToShow(newArray => newArray.concat(rulesByTitle))\n    setTitle(titleObject.title)\n    setPreviousTitle(titleObject.title)\n  }\n\n  const ListItemLink = (props) => {\n    return <ListItem button component=\"a\" {...props} />;\n  }\n\n\n  return (\n    <div>\n      <Container id=\"container\" fixed>\n        <Typography><strong><h1>Magic: The Gathering rules</h1></strong></Typography>\n        <Typography><strong><h2>Table of content</h2></strong></Typography>\n        <Grid container>\n          <Grid item xs={6}>\n            <List className=\"list\">\n              {arrayOfTitles.map(titleObject => (\n                <ListItem key={titleObject.id}><ListItemLink href=\"#\" onClick={() => onSelect(titleObject)}><ListItemText>{titleObject.title}</ListItemText></ListItemLink></ListItem>\n              ))}\n            </List>\n          </Grid>\n          <Grid item xs={6}>\n            <Filter filter={setFilterField} changeFilter={handleFilterChange} />\n            <Title title={title} filterField={filterField} previousTitle={previousTitle} setTitle={setTitle}></Title>\n            <div>{isSelected === true ? <p></p> : <i><strong>Click titles or search with keywords</strong></i>}</div>\n            <List className=\"list\">\n              {filterField !== '' ? <Rules arrayOfRules={arrayOfRules} filter={filterField} selected={setIsSelected}></Rules> : <RulesByTitle ruleToShow={ruleToShow}></RulesByTitle>}\n            </List>\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}